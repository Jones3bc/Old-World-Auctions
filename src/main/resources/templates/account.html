<!-- The account management page that the user can use to update their user information and manage payment methods -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Account Page</title>
    <link th:href="@{/style.css}" rel="stylesheet"/>
    <link th:href="@{/login.css}" rel="stylesheet"/>
    <link th:href="@{/account.css}" rel="stylesheet"/>
    <link th:href="@{/styling.css}" rel="stylesheet"/>
</head>
<body>
<header>
    <div class="nav">
        <ul>
            <a class="active">Home</a>
            <a href="/auctions-page">Auctions</a>
            <a href="/register-page">Register</a>
            <a href="/addItem">Create</a>
            <a href="/contact">Contact</a>
            <div id="user" class="dropdown" style="float:right; color: white"></div>
        </ul>
    </div>
</header>

<div class="content">
    <h1>Manage Account</h1>

    <h3>Update Account Info</h3>
    <div>Leaving a field blank will retain the original username/password.</div>
    <div id="error" style="color: red;" th:text="${erredMessage}"></div>
    <form id="accountUpdateForm" action="/update-user-info" method="post">
        <p>
            <label for="username">New Username: </label>
            <input id= "username" type="text" name="username" placeholder="Enter New Username"/>
        </p>

        <p>
            <label for="password">New Password: </label>
            <input id= "password" type="password" name="password" placeholder="Enter New Password"/>
        </p>

        <p>
            <label for="originalPassword">Original Password: </label>
            <input id= "originalPassword" type="password" name="originalPassword" placeholder="Enter Old Password" required/>
            <span class="required">*</span>
        </p>
    </form>

    <button class="submit" form="accountUpdateForm" type="submit">Update Info</button>

    <h3>Add Payment Method</h3>

    <form id="paymentMethodAddForm" action="/create-payment-method" method="post">
        <p>
            <label for="cardNumber">Card Number: </label>
            <input id= "cardNumber" type="text" name="cardNumber" required placeholder="####-####-####-####"/>
            <span class="required">*</span>
        </p>

        <p>
            <label for="expirationMonth">Expiration Month: </label>
            <input id= "expirationMonth" type="number" step="1" name="expirationMonth" required placeholder="1-12"/>
            <span class="required">*</span>
        </p>

        <p>
            <label for="expirationYear">Expiration Year: </label>
            <input id= "expirationYear" type="number" step="1" name="expirationYear" required placeholder="24-99"/>
            <span class="required">*</span>
        </p>

        <p>
            <label for="cvv">CVV: </label>
            <input id= "cvv" type="text" name="cvv" required placeholder="###"/>
            <span class="required">*</span>
        </p>

        <p>
            <label for="credit">Is This a credit card?</label>
            <select id="credit" name="credit">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
            <span class="required">*</span>
        </p>


        <input style="display: none;" id="userId" type="hidden" name="userId"/>


    </form>

    <button class="submit" form="paymentMethodAddForm" type="submit">Add</button>

    <h3>View/Manage Payment Methods</h3>

    <div id="paymentMethods" style="padding-bottom: 20px">
        Enter Password:
        <input id="paymentMethodPassword" type="password" name="paymentMethodPassword"/>
        <button id="checkPassword" class="submit">View Payment Methods</button>
    </div>

</div>
<script type="text/javascript" th:src="@{/login.js}"></script>
<script type="text/javascript" th:src="@{/userId.js}"></script>
<script type="text/javascript" th:src="@{/paymentMethods.js}"></script>
</body>

</html>