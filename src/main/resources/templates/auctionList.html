<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Old World Auction</title>
    <link th:href="@{/auctionList.css}" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script th:inline="javascript">
        var items = /*[[${items}]]*/ [];
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
                   fetch("/allItemsJson")
                       .then(response => response.json())
                       .then(data => {
                           displayAuctionItems(data);
                       })
                       .catch(error => {
                           console.error('Error fetching data:', error);
                       });
               });

               function displayAuctionItems(items) {
                   const auctionListDiv = document.getElementById("gallery");
                   auctionListDiv.innerHTML = ''; // Clear previous content

               const byteArray = [69, 120, 97, 109, 112, 108, 101, 46, 106, 112, 103];
                const uint8Array = new Uint8Array(byteArray);
                const blob = new Blob([uint8Array]);
                const dataUrl = URL.createObjectURL(blob);
                const imgTag = `<img src="${dataUrl}" alt="Image">`;
                console.log(imgTag);


                console.log(imgTag);
                   items.forEach(item => {
                       const contentDiv = document.createElement("div");
                       contentDiv.classList.add("content");
                        const imageByte = btoa(item.image);

                       contentDiv.innerHTML = `
                           <h3>${item.name}</h3>
                             <p>$${item.currentBid}</p>
                           <h6>${item.description}</h6>
                           <button class="buy-1">Buy Now</button>
                           <button class="save" onclick="location.href='index.html'">Save</button>
                           `;

                       auctionListDiv.appendChild(contentDiv);
                   });
               }

    </script>
</head>
<body>
<header>
    <div class="nav">
        <ul>
            <a href="/">Home</a>
            <h1> Auction Items</h1>
        </ul>
    </div>
</header>
<section>
    <div id="gallery">

    </div>
    <div class="gallery">

    </div>
    <div class = "gallery">
        <div class = "content">
            <h3>Wide Crystal Chandelier</h3>
            <image src = Capture.PNG></image>
            <p>$4235</p>
            <h6>Schonbek Renaissance 24 Light 36" Wide Crystal Chandelier</h6>
            <button class = "buy-1">Buy Now</button>
            <button class = "save" a href="index.html"> Save</button>
        </div>
        <div class = "content">
            <h3>Cheyenne Chesterfield Leather Sofa</h3>
            <image src = sofa.png></image>
            <p>$2100</p>
            <h6>Cheyenne Chesterfield Leather Sofa</h6>
            <button class = "buy-1"> Buy Now</button>
            <button class = "save"> Save</button>
        </div>
        <div class = "content">
            <h3>Cheyenne Chesterfield Leather Sofa</h3>
            <image src = sofa.png></image>
            <p>$2100</p>
            <h6>Cheyenne Chesterfield Leather Sofa</h6>
            <button class = "buy-1"> Buy Now</button>
            <button class = "save"> Save</button>
        </div>
    </div>
    <div class = "gallery">
        <div class = "content">
            <h3>Wide Crystal Chandelier</h3>
            <image src = Capture.PNG></image>
            <p>$4235</p>
            <h6>Schonbek Renaissance 24 Light 36" Wide Crystal Chandelier</h6>
            <button class = "buy-1"> Buy Now</button>
            <button class = "save"> Save</button>
        </div>
        <div class = "content">
            <h3>Cheyenne Chesterfield Leather Sofa</h3>
            <image src = sofa.png></image>
            <p>$2100</p>
            <h6>Cheyenne Chesterfield Leather Sofa</h6>
            <button class = "buy-1"> Buy Now</button>
            <button class = "save"> Save</button>
        </div>
        <div class = "content">
            <h3>Cheyenne Chesterfield Leather Sofa</h3>
            <image src = sofa.png></image>>
            <p>$2100</p>
            <h6>Cheyenne Chesterfield Leather Sofa</h6>
            <button class = "buy-1"> Buy Now</button>
            <button class = "save"> Save</button>
        </div>
    </div>
</section>

<!--  <script src="https://replit.com/public/js/replit-badge-v2.js" theme="light" position="bottom-right"></script>-->
</body>

</html>